<!DOCTYPE html>
<html>
<head>
    <title>XMLHttpRequest</title>
</head>
<body>
    <script>
        // XMLHttpRequest 객체를 생성합니다.
        var request = new XMLHttpRequest();
        request.onreadystatechange = function (event) {
            if (request.readyState == 4) {
                if (request.status == 200) {
                    // 데이터를 가공합니다.
                    // JSON.parse() 메소드 : string 객체를 javascript 객체로 변환
                    var json = (JSON.parse(request.responseText));
                    var output = '';

                    for (var i = 0; i < json.length; i++) {
                    	output += "<ul>";
                        for (var key in json[i]) {
                            output += '<li>' + key + ':' + json[i][key] + '</li>';
                        }
                    	output += "</ul>";
                    }

                    // 출력합니다.
                    document.body.innerHTML += output;
                };
            };
        };
        request.open('GET', 'createJson.jsp', true);
//        request.open('GET', 'http://localhost:8000/Ch12_Ajax/1_js/json/createJson.jsp', true);
        request.send();
    </script>
</body>
</html>
